package chapter07;import lombok.extern.slf4j.Slf4j;import java.util.concurrent.atomic.AtomicReference;/** *  * @author tengfei.fangtf * @version $Id: AtomicReferenceTest.java, v 0.1 2015-8-1 上午12:05:14 tengfei.fangtf Exp $ */@Slf4jpublic class AtomicReferenceTest {    public static AtomicReference<User> atomicUserRef = new AtomicReference<>();    public static void main(String[] args) {        User user = new User("conan", 15);        atomicUserRef.set(user);        User updateUser = new User("Shinichi", 17);        atomicUserRef.compareAndSet(user, updateUser);        log.info(atomicUserRef.get().getName());        log.info("atomicUserRef.get().getOld():{}", atomicUserRef.get().getOld());    }    public static class User {        private final String name;        private final int    old;        public User(String name, int old) {            this.name = name;            this.old = old;        }        public String getName() {            return name;        }        public int getOld() {            return old;        }    }}